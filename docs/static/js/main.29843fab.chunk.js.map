{"version":3,"sources":["Irs.tsx","Range.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Irs","gross","deductible","compute","taxable","Math","max","level","findLevel","irs","calcForLevel","maxIrs","SUBSISTENCE_LEVEL","min","LEVELS","limit","Error","previous","tax","computed","Infinity","Range","props","className","type","values","length","name","value","onChange","format","n","precision","toFixed","replace","d","round","pow","WageLines","options","wageLines","wage","increment","App","INCREMENTS","lines","i","push","WageLine","floor","gross14Months","gross12Months","saDaysPerYear","saDays","sa","showSa","deductibleSa","saVoucher","taxableSa","tsu","ss","calc","taxSum","showTsu","total","total14Months","total12Months","net","net14Months","net12Months","totalNet","totalNet14Months","totalNet12Months","wageValue","f","FORMATS","base","unit","wageCell","key","title","showTaxes","taxesValue","showTaxSum","WageTable","colSpan","handleChange","bind","reset","state","loadState","e","this","setState","target","getAttribute","checked","isNaN","parseFloat","DEFAULT_STATE","preventDefault","storeState","basename","id","path","step","disabled","map","onClick","to","href","rel","changes","hasOwnProperty","window","location","hash","Object","keys","encodeURIComponent","join","buildHash","localStorage","setItem","JSON","stringify","savedState","getItem","parse","console","error","hashState","components","split","decodeURIComponent","parseHash","assign","getStateFromHash","getStateFromLocalStorage","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wRAAqBA,G,+FAiBnB,SAAYC,GAAgC,IAAjBC,EAAgB,uDAAH,EACtCF,EAAIG,UACJ,IAAMC,EAAUC,KAAKC,IAAI,EAAGL,EAAQC,GAC9BK,EAAQP,EAAIQ,UAAUJ,GACtBK,EAAMT,EAAIU,aAAaN,EAASG,GAChCI,EAASN,KAAKC,IAAI,EAAGL,EAAQD,EAAIY,mBACvC,OAAOP,KAAKQ,IAAIJ,EAAKE,K,uBAGvB,SAAyBP,GAAkB,IAAD,gBACpBJ,EAAIc,QADgB,IACxC,2BAAgC,CAAC,IAAtBP,EAAqB,QAC9B,GAAIH,EAAUG,EAAMQ,MAClB,OAAOR,GAH6B,8BAMxC,MAAM,IAAIS,MAAM,iCAAmCZ,K,0BAGrD,SAA4BA,EAAiBG,GAC3C,IAAMU,EAAWV,EAAMU,SACvB,OAAmB,MAAZA,EAAmBb,EAAUG,EAAMW,KACrCd,EAAUa,EAASF,OAASR,EAAMW,KAAOD,EAASX,KAAO,K,qBAIhE,WACE,IAAKN,EAAImB,SAAU,CACjBnB,EAAImB,UAAW,EACf,IAFiB,EAEbF,EAAW,KAFE,cAGGjB,EAAIc,QAHP,IAGjB,2BAAgC,CAAC,IAAtBP,EAAqB,QAC9BA,EAAMU,SAAWA,EACjBV,EAAMD,IAAMN,EAAIU,aAAaH,EAAMQ,MAAOR,GAC1CU,EAAWV,GANI,oC,MA3CFP,EAEHY,kBAAoB,KAFjBZ,EAIHc,OAAkB,CAChC,CAACI,IAAK,KAAMH,MAAO,MACnB,CAACG,IAAK,IAAKH,MAAO,OAClB,CAACG,IAAK,KAAMH,MAAO,OACnB,CAACG,IAAK,IAAKH,MAAO,OAClB,CAACG,IAAK,IAAKH,MAAO,OAClB,CAACG,IAAK,IAAKH,MAAO,OAClB,CAACG,IAAK,IAAKH,MAAOK,MAXDpB,EAcJmB,UAAW,E,iBCObE,EAXD,SAACC,GAAD,OACV,uBAAMC,UAAU,QAAhB,UACE,uBAAOC,KAAK,QACLX,IAAI,IACJP,IAAKgB,EAAMG,OAAOC,OAAS,EAC3BC,KAAML,EAAMK,KACZC,MAAON,EAAMM,MACbC,SAAUP,EAAMO,WACvB,+BAAOP,EAAMQ,OAAOR,EAAMG,OAAOH,EAAMM,cCX7C,SAASE,EAAOC,GAA2B,IAAhBC,EAAe,uDAAH,EACrC,OAAOC,EAAQF,EAAGC,GAEbE,QAAQ,wBAAyB,KACjCA,QAAQ,IAAK,KACbA,QAAQ,kBAAmB,QAIlC,SAASD,EAAQF,EAAWC,GAC1B,OAAOA,EAAY,EAIrB,SAAeD,EAAWI,GACxB,OAAO9B,KAAK+B,MAAML,EAAI1B,KAAKgC,IAAI,GAAIF,IAAM9B,KAAKgC,IAAI,GAAIF,GAL/BC,CAAML,EAAGC,GAAWC,QAAQ,GAAKF,EAAEE,QAAQD,GA0BpE,SAASM,EAAT,GAKE,IALkC,IAAhBC,EAAe,EAAfA,QACZC,EAA2B,GAC3BC,EAAOF,EAAQE,KACfC,EAAYC,EAAIC,WAAWL,EAAQG,WACnCG,EAAQN,EAAQM,MACbC,EAAI,EAAGlB,EAAQa,EAAMK,EAAID,EAAOC,IACvCN,EAAUO,KAAK,cAACC,EAAD,CAAsBpB,MAAOA,EAAOW,QAASA,GAA9BX,IAC9BA,EAAQvB,KAAK4C,OAAOrB,EAAQc,GAAaA,GAAaA,EAExD,OAAO,mCAAGF,IAGZ,SAASQ,EAAT,GAA0C,IAAvBT,EAAsB,EAAtBA,QAASX,EAAa,EAAbA,MACpBI,EAAYO,EAAQP,UAGpBkB,EAAgBtB,EAChB3B,EAAwB,GAAhBiD,EACRC,EAAgBlD,EAAQ,GAGxBmD,EAAiC,GAAjBb,EAAQc,OAExBC,GADUf,EAAQgB,OAAShB,EAAQe,GAAK,GACzBF,EAEfI,GAAgBjB,EAAQkB,UAAY,KAAO,MAAQL,EACnDM,EAAYrD,KAAKC,IAAI,EAAGgD,EAAKE,GAG7BG,EAAc,MAAR1D,EACN2D,EAAa,IAAR3D,EACLQ,EAAMT,EAAI6D,KAAK5D,EAAQyD,EAAWrD,KAAKC,IAAIsD,EAAI,OAC/CE,GAAUvB,EAAQwB,QAAUJ,EAAM,GAAKC,EAAKnD,EAG5CuD,EAAQ/D,EAAQ0D,EAAML,EACtBW,EAAgBD,EAAQ,GACxBE,EAAgBF,EAAQ,GAGxBG,EAAMlE,EAAQ2D,EAAKnD,EACnB2D,EAAcD,EAAM,GACpBE,EAAcF,EAAM,GAGpBG,EAAWH,EAAMb,EACjBiB,EAAmBD,EAAW,GAC9BE,EAAmBF,EAAW,GAE9BG,EAAY,SAAC1C,GACjB,IAAM2C,EAAI/B,EAAIgC,QAAQpC,EAAQT,QAE9B,OADyB,IAAX4C,EAAEE,KAAa9C,EAAOC,EAAGC,GAAaF,EAAOC,EAAI,IAAMC,EAAY,IAClE0C,EAAEG,MAGbC,EAAW,SAACC,EAAahD,GAAd,IAAyBR,EAAzB,uDAAqC,GAArC,OACb,oBAAIA,UAAW,YAAcA,EACzByD,MAAOlD,EAAOC,EAAG,GAAK,UAD1B,SACiC0C,EAAU1C,IADEgD,IAGjD,OACI,6BAAK,CACHxC,EAAQ0C,WAAa1C,EAAQwB,SAAW,CACtCe,EAAS,QAASd,GAClBc,EAAS,gBAAiBZ,GAC1BY,EAAS,gBAAiBb,EAAe,aAE3Ca,EAAS,QAAS7E,GAClB6E,EAAS,gBAAiB3B,GAC1B2B,EAAS,gBAAiB5B,EAAe,YACzCX,EAAQ0C,WAAa,CACnB1C,EAAQwB,SAAWe,EAAS,MAAOnB,EAAMpB,EAAQ2C,YACjDJ,EAAS,KAAMlB,EAAKrB,EAAQ2C,YAC5BJ,EAAS,MAAOrE,EAAM8B,EAAQ2C,YAC9B3C,EAAQ4C,YAAcL,EAAS,SAAUhB,EAASvB,EAAQ2C,aAE5DJ,EAAS,MAAOX,GAChBW,EAAS,cAAeT,GACxBS,EAAS,cAAeV,EAAa,YACpC7B,EAAQgB,QAAU,CACjBuB,EAAS,WAAYR,GACrBQ,EAAS,mBAAoBN,GAC7BM,EAAS,mBAAoBP,EAAkB,gBAOzD,SAASa,EAAT,GAAoC,IAAhB7C,EAAe,EAAfA,QAClB,OACI,kCACE,kCACA,+BACGA,EAAQ0C,WAAa1C,EAAQwB,SAC9B,oBAAgBsB,QAAS,EAAGL,MAAO,8BAAnC,6BAAQ,SACR,oBAAgBK,QAAS,EAAzB,6BAAQ,SACP9C,EAAQ0C,WACT,oBACII,QAAS,GAAK9C,EAAQwB,QAAU,EAAI,IAAMxB,EAAQ4C,WAAa,EAAI,GADvE,qBAAQ,SAER,oBAAcE,QAAS,EAAvB,kCAAQ,OACP9C,EAAQgB,QAAU,oBAAa8B,QAAS,EAAtB,oCAAQ,SAE7B,+BACG9C,EAAQ0C,WAAa1C,EAAQwB,SAAW,CACvC,sCAAQ,aACR,oCAAQ,WACR,oCAAQ,YAEV,sCAAQ,aACR,oCAAQ,WACR,oCAAQ,WACPxB,EAAQ0C,WAAa,CACpB1C,EAAQwB,SAAW,oCAAQ,OAC3B,mCAAQ,MACR,oCAAQ,OACRxB,EAAQ4C,YAAc,sCAAQ,WAEhC,sCAAQ,WACR,oCAAQ,SACR,oCAAQ,SACP5C,EAAQgB,QAAU,CACjB,sCAAQ,gBACR,oCAAQ,cACR,oCAAQ,qBAIZ,gCACA,cAACjB,EAAD,CAAWC,QAASA,S,IAMtBI,E,kDAEJ,WAAYrB,GAAY,IAAD,8BACrB,cAAMA,IACDgE,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,MAAQ,EAAKA,MAAMD,KAAX,gBACb,EAAKE,MAAQ9C,EAAI+C,YAJI,E,gDA4FvB,SAAqBC,GACnBC,KAAKC,UAAS,SAACJ,GACb,IAAMK,EAASH,EAAEG,OACXnE,EAAOmE,EAAOC,aAAa,QACjC,GAAY,MAARpE,EACF,GAA6B,mBAAjB8D,EAAM9D,GAChB8D,EAAM9D,GAAQmE,EAAOE,aAChB,GAA6B,kBAAjBP,EAAM9D,GAAqB,CAC5C8D,EAAM9D,GAAQsE,MAAMC,WAAWJ,EAAOlE,QAAU,EAAIsE,WAAWJ,EAAOlE,OACtE,IAAMtB,EAAMwF,EAAOC,aAAa,OACrB,MAAPzF,IACFmF,EAAM9D,GAAQtB,KAAKQ,IAAIqF,WAAW5F,GAAMmF,EAAM9D,UAGhD8D,EAAM9D,GAAQmE,EAAOlE,MAGzB,OAAO6D,O,mBAIX,SAAcE,GACZC,KAAKC,SAASlD,EAAIwD,eAClBR,EAAES,mB,gCAGJ,WACEzD,EAAI0D,WAAWT,KAAKH,S,oBAGtB,WACE,OACI,qBAAKlE,UAAU,MAAf,SACE,wBAAQA,UAAU,aAAlB,SACE,eAAC,IAAD,CACI+E,SAAU,4BADd,UAEE,qBAAKC,GAAG,QAAR,kDACA,8BACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAOC,KAAK,IAAZ,UACE,iCACE,gCACE,qDACA,uBACA,2CAEE,uBAAOhF,KAAK,SAASiF,KAAK,MAAM5F,IAAI,IAC7Bc,KAAK,OACLC,MAAOgE,KAAKH,MAAMhD,KAClBZ,SAAU+D,KAAKN,kBAExB,iDAEE,cAAC,EAAD,CAAO3D,KAAK,YACLC,MAAOgE,KAAKH,MAAM/C,UAClBjB,OAAQkB,EAAIC,WACZd,OAAQ,SAACC,GAAD,OAAeD,EAAOC,GAAK,WACnCF,SAAU+D,KAAKN,kBAExB,4CAEE,uBAAO9D,KAAK,SAASX,IAAI,IAAIP,IAAI,OAC1BqB,KAAK,QACLC,MAAOgE,KAAKH,MAAM5C,MAClBhB,SAAU+D,KAAKN,qBAG1B,gCACE,uDACA,uBACA,kCACE,uBAAO9D,KAAK,WACLG,KAAK,SACLqE,QAASJ,KAAKH,MAAMlC,OACpB1B,SAAU+D,KAAKN,eAJxB,aAOA,kCACE,uBAAO9D,KAAK,WACLkF,UAAWd,KAAKH,MAAMlC,OACtB5B,KAAK,YACLqE,QAASJ,KAAKH,MAAMhC,UACpB5B,SAAU+D,KAAKN,eALxB,qBAQA,2CAEE,uBAAO9D,KAAK,SAASX,IAAI,IAAI4F,KAAK,OAC3BC,UAAWd,KAAKH,MAAMlC,OACtB5B,KAAK,KACLC,MAAOgE,KAAKH,MAAMnC,GAClBzB,SAAU+D,KAAKN,kBAExB,0CAEE,uBAAO9D,KAAK,SAASX,IAAI,IAAIP,IAAI,KAAKmG,KAAK,IACpCC,UAAWd,KAAKH,MAAMlC,OACtB5B,KAAK,SACLC,MAAOgE,KAAKH,MAAMpC,OAClBxB,SAAU+D,KAAKN,qBAG1B,gCACE,yCACA,uBACA,kCACE,uBAAO9D,KAAK,WACLG,KAAK,YACLqE,QAASJ,KAAKH,MAAMR,UACpBpD,SAAU+D,KAAKN,eAJxB,aAOA,kCACE,uBAAO9D,KAAK,WACLkF,UAAWd,KAAKH,MAAMR,UACtBtD,KAAK,UACLqE,QAASJ,KAAKH,MAAM1B,QACpBlC,SAAU+D,KAAKN,eALxB,iBAQA,kCACE,uBAAO9D,KAAK,WACLkF,UAAWd,KAAKH,MAAMR,UACtBtD,KAAK,aACLqE,QAASJ,KAAKH,MAAMN,WACpBtD,SAAU+D,KAAKN,eALxB,mBAQA,2CAEE,yBACIoB,UAAWd,KAAKH,MAAMR,UACtBtD,KAAK,aACLC,MAAOgE,KAAKH,MAAMP,WAClBrD,SAAU+D,KAAKN,aAJnB,UAKE,wBAAQ1D,MAAM,IAAd,mBACA,wBAAQA,MAAM,KAAd,iBACA,wBAAQA,MAAM,KAAd,0BAIN,gCACE,mDACA,uBACA,6CAEE,wBACID,KAAK,SACLC,MAAOgE,KAAKH,MAAM3D,OAClBD,SAAU+D,KAAKN,aAHnB,SAIG3C,EAAIgC,QAAQgC,KAAI,SAACjC,EAAG5B,GAAJ,OACb,wBAAQlB,MAAOkB,EAAf,UAA+B,IAAX4B,EAAEE,KAAa,OAAS,OAASF,EAAEG,eAI/D,iDAEE,wBACIlD,KAAK,YACLC,MAAOgE,KAAKH,MAAMzD,UAClBH,SAAU+D,KAAKN,aAHnB,SAIG,EAAE,GAAI,GAAI,EAAG,EAAG,GAAGqB,KAAI,SAAA5E,GAAC,OACrB,yBAAQH,MAAOG,EAAf,UAAmBE,EAAQ5B,KAAKgC,IAAI,IAAKN,GAAIA,GAA7C,qBAGR,uBAAOwE,GAAG,QAAQ/E,KAAK,SAASoF,QAAShB,KAAKJ,MAAO5D,MAAM,oBAG/D,cAACwD,EAAD,CAAW7C,QAASqD,KAAKH,WAE3B,cAAC,IAAD,CAAOe,KAAK,SAAZ,SACE,+CAIN,sBAAKD,GAAG,SAAR,UACE,cAAC,IAAD,CAAMM,GAAG,IAAT,uBADF,YAGE,cAAC,IAAD,CAAMA,GAAG,SAAT,oBAHF,YAKE,mBAAGC,KAAK,4DAA4DhB,OAAO,SACxEiB,IAAI,aADP,iC,yBA/Od,SAA0BtB,GACxB,IAAMuB,EAAiB,GACvB,IAAK,IAAMlE,KAAK2C,EACVA,EAAMwB,eAAenE,IAAM2C,EAAM3C,KAAOH,EAAIwD,cAAcrD,KAC5DkE,EAAQlE,GAAK2C,EAAM3C,IAGvBoE,OAAOC,SAASC,KAlMpB,SAAmB3B,GACjB,OAAO4B,OAAOC,KAAK7B,GAAOkB,KAAI,SAAA7D,GAAC,OAAIyE,mBAAmBzE,GAAK,IAAMyE,mBAAmB9B,EAAM3C,OAAK0E,KAAK,KAiM3EC,CAAUT,GACjCU,aAAaC,QAAQ,QAASC,KAAKC,UAAUb,M,sCAG/C,WACE,IAAMc,EAAaJ,aAAaK,QAAQ,SACxC,GAAID,EACF,IACE,OAAOF,KAAKI,MAAMF,GAClB,MAAOnC,GACPsC,QAAQC,MAAMvC,GAGlB,MAAO,K,8BAGT,WACE,IAAMF,EAAe,GACf2B,EAAOF,OAAOC,SAASC,KAAKlF,QAAQ,KAAM,IAChD,GAAa,KAATkF,EAAa,CACf,IAAMe,EAlNZ,SAAmBf,GACjB,IAD+B,EACzBT,EAA+B,GAC/ByB,EAAahB,EAAKiB,MAAM,KAFC,cAGPD,GAHO,IAG/B,2BAAoC,CAAC,IAAD,UACHC,MAAM,KAAK1B,IAAI2B,oBADZ,mBAC3BvD,EAD2B,KACtBnD,EADsB,KAElC+E,EAAI5B,GAAOnD,GALkB,8BAO/B,OAAO+E,EA2Me4B,CAAUnB,GAC5B,IAAK,IAAMtE,KAAKqF,EACd,GAAIA,EAAUlB,eAAenE,IAAMH,EAAIwD,cAAcc,eAAenE,GAClE,cAAgBH,EAAIwD,cAAcrD,IAChC,IAAK,SACH2C,EAAM3C,GAAKoD,WAAWiC,EAAUrF,IAChC,MACF,IAAK,UACH2C,EAAM3C,GAAsB,SAAjBqF,EAAUrF,GACrB,MACF,QACE2C,EAAM3C,GAAKqF,EAAUrF,IAK/B,OAAO2C,I,uBAGT,WACE,IAAMA,EAAe,GAErB4B,OAAOmB,OAAO/C,EAAO9C,EAAIwD,eAEzB,IAAMgC,EAAYxF,EAAI8F,mBAEhBX,EAA+C,IAAlCT,OAAOC,KAAKa,GAAWzG,OACtCiB,EAAI+F,2BAA6BP,EAErC,OADAd,OAAOmB,OAAO/C,EAAOqC,GACdrC,M,GA3FOkD,IAAMC,WAAlBjG,EASoBwD,cAAuB,CAC7C1D,KAAM,IACNI,MAAO,GACPH,UAAW,EACXa,QAAQ,EACRE,WAAW,EACXH,GAAI,KACJD,OAAQ,GACR4B,WAAW,EACXlB,SAAS,EACToB,YAAY,EACZD,WAAY,EACZlD,UAAW,EACXF,OAAQ,GAtBNa,EAwBmBC,WAAa,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAM,IAAO,KAxBpFD,EAyBmBgC,QAAU,CAC/B,CAACC,KAAM,EAAGC,KAAM,WAChB,CAACD,KAAM,EAAGC,KAAM,IAChB,CAACD,KAAM,EAAGC,KAAM,YAChB,CAACD,KAAM,EAAGC,KAAM,MAChB,CAACD,KAAM,EAAGC,KAAM,YAChB,CAACD,KAAM,EAAGC,KAAM,KAChB,CAACD,KAAM,EAAGC,KAAM,KA4PLlC,QC/bAkG,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.29843fab.chunk.js","sourcesContent":["export default class Irs {\r\n\r\n  static readonly SUBSISTENCE_LEVEL = 9870;\r\n\r\n  static readonly LEVELS: Level[] = [\r\n    {tax: .145, limit: 7112},\r\n    {tax: .23, limit: 10732},\r\n    {tax: .285, limit: 20322},\r\n    {tax: .35, limit: 25075},\r\n    {tax: .37, limit: 36967},\r\n    {tax: .45, limit: 80882},\r\n    {tax: .48, limit: Infinity}\r\n  ];\r\n\r\n  private static computed = false;\r\n\r\n  // Compute IRS given collectible gross income and specific deduction\r\n  static calc(gross: number, deductible = 0) {\r\n    Irs.compute();\r\n    const taxable = Math.max(0, gross - deductible);\r\n    const level = Irs.findLevel(taxable);\r\n    const irs = Irs.calcForLevel(taxable, level);\r\n    const maxIrs = Math.max(0, gross - Irs.SUBSISTENCE_LEVEL);\r\n    return Math.min(irs, maxIrs);\r\n  }\r\n\r\n  private static findLevel(taxable: number) {\r\n    for (const level of Irs.LEVELS) {\r\n      if (taxable < level.limit) {\r\n        return level;\r\n      }\r\n    }\r\n    throw new Error(\"Could not find IRS level for: \" + taxable);\r\n  }\r\n\r\n  private static calcForLevel(taxable: number, level: Level) {\r\n    const previous = level.previous;\r\n    return previous == null ? taxable * level.tax :\r\n        (taxable - previous.limit) * level.tax + (previous.max || 0);\r\n  }\r\n\r\n  // precompute max irs for each level\r\n  private static compute() {\r\n    if (!Irs.computed) {\r\n      Irs.computed = true;\r\n      let previous = null;\r\n      for (const level of Irs.LEVELS) {\r\n        level.previous = previous;\r\n        level.max = Irs.calcForLevel(level.limit, level);\r\n        previous = level;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\ntype Level = {\r\n  tax: number;\r\n  limit: number;\r\n  max?: number;\r\n  previous?: Level | null;\r\n}\r\n","import './Range.css';\r\n\r\ntype RangeProps = {\r\n  values: any[];\r\n  name: string;\r\n  value: number;\r\n  onChange: any;\r\n  format: { (n: any): string };\r\n}\r\n\r\nconst Range = (props: RangeProps) =>\r\n    <span className=\"range\">\r\n      <input type=\"range\"\r\n             min=\"0\"\r\n             max={props.values.length - 1}\r\n             name={props.name}\r\n             value={props.value}\r\n             onChange={props.onChange}/>\r\n      <span>{props.format(props.values[props.value])}</span>\r\n    </span>;\r\n\r\nexport default Range;\r\n","import React from 'react';\nimport {BrowserRouter as Router, Link, Route, Switch} from 'react-router-dom';\nimport './App.css';\nimport Irs from './Irs';\nimport Range from './Range';\n\n// Convert number to portuguese number format\nfunction format(n: number, precision = 0) {\n  return toFixed(n, precision)\n  //.replace(/(?:\\.(\\d+))?e\\+(\\d+)$/, (m, m1, m2) => m1 + \"000\".repeat(m2))\n      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \")\n      .replace(\".\", \",\")\n      .replace(/^(\\d) (\\d{3})\\b/, \"$1$2\");\n}\n\n// Convert number to string with given precision\nfunction toFixed(n: number, precision: number) {\n  return precision < 0 ? round(n, precision).toFixed(0) : n.toFixed(precision);\n}\n\n// Round number with given positive or negative precision\nfunction round(n: number, d: number) {\n  return Math.round(n * Math.pow(10, d)) / Math.pow(10, d);\n}\n\nfunction buildHash(state: State) {\n  return Object.keys(state).map(i => encodeURIComponent(i) + \"=\" + encodeURIComponent(state[i])).join(\"&\")\n}\n\nfunction parseHash(hash: string) {\n  const map: { [i: string]: string } = {};\n  const components = hash.split(\"&\");\n  for (const component of components) {\n    const [key, value] = component.split(\"=\").map(decodeURIComponent);\n    map[key] = value;\n  }\n  return map;\n}\n\ninterface State {\n  [i: string]: string | number | boolean;\n}\n\nfunction WageLines({options}: any) {\n  const wageLines: JSX.Element[] = [];\n  const wage = options.wage;\n  const increment = App.INCREMENTS[options.increment];\n  const lines = options.lines;\n  for (let i = 0, value = wage; i < lines; i++) {\n    wageLines.push(<WageLine key={value} value={value} options={options}/>);\n    value = Math.floor((value + increment) / increment) * increment;\n  }\n  return <>{wageLines}</>;\n}\n\nfunction WageLine({options, value}: any) {\n  const precision = options.precision;\n\n  // calculate gross wage\n  const gross14Months = value;\n  const gross = gross14Months * 14;\n  const gross12Months = gross / 12;\n\n  // calculate food allowance\n  const saDaysPerYear = options.saDays * 11;\n  const saValue = options.showSa ? options.sa : 0;\n  const sa = saValue * saDaysPerYear;\n\n  const deductibleSa = (options.saVoucher ? 7.63 : 4.77) * saDaysPerYear;\n  const taxableSa = Math.max(0, sa - deductibleSa);\n\n  // calculate taxes\n  const tsu = gross * 0.2375;\n  const ss = gross * 0.11;\n  const irs = Irs.calc(gross + taxableSa, Math.max(ss, 4104));\n  const taxSum = (options.showTsu ? tsu : 0) + ss + irs;\n\n  // calculate total wage (gross wage + TSU + food allowance\n  const total = gross + tsu + sa;\n  const total14Months = total / 14;\n  const total12Months = total / 12;\n\n  // calculate net wage\n  const net = gross - ss - irs;\n  const net14Months = net / 14;\n  const net12Months = net / 12;\n\n  // calculate net wage plus food allowance\n  const totalNet = net + sa;\n  const totalNet14Months = totalNet / 14;\n  const totalNet12Months = totalNet / 12;\n\n  const wageValue = (n: number) => {\n    const f = App.FORMATS[options.format];\n    const value = f.base === 1 ? format(n, precision) : format(n / 1000, precision + 3);\n    return value + f.unit;\n  };\n\n  const wageCell = (key: string, n: number, className = \"\") =>\n      <td className={\"WageCell \" + className} key={key}\n          title={format(n, 2) + \" €\"}>{wageValue(n)}</td>;\n\n  return (\n      <tr>{[\n        options.showTaxes && options.showTsu && [\n          wageCell(\"total\", total),\n          wageCell(\"total12Months\", total12Months),\n          wageCell(\"total14Months\", total14Months, \"months14\")\n        ],\n        wageCell(\"gross\", gross),\n        wageCell(\"gross12Months\", gross12Months),\n        wageCell(\"gross14Months\", gross14Months, \"months14\"),\n        options.showTaxes && [\n          options.showTsu && wageCell(\"tsu\", tsu / options.taxesValue),\n          wageCell(\"ss\", ss / options.taxesValue),\n          wageCell(\"irs\", irs / options.taxesValue),\n          options.showTaxSum && wageCell(\"taxSum\", taxSum / options.taxesValue)\n        ],\n        wageCell(\"net\", net),\n        wageCell(\"net12Months\", net12Months),\n        wageCell(\"net14Months\", net14Months, \"months14\"),\n        (options.showSa && [\n          wageCell(\"totalNet\", totalNet),\n          wageCell(\"totalNet12Months\", totalNet12Months),\n          wageCell(\"totalNet14Months\", totalNet14Months, \"months14\")\n        ])\n      ]}\n      </tr>\n  );\n}\n\nfunction WageTable({options}: any) {\n  return (\n      <table>\n        <thead>\n        <tr>\n          {options.showTaxes && options.showTsu &&\n          <th key=\"total\" colSpan={3} title={\"Salário Bruto + TSU + SA\"}>Salário Total</th>}\n          <th key=\"gross\" colSpan={3}>Salário Bruto</th>\n          {options.showTaxes &&\n          <th key=\"taxes\"\n              colSpan={2 + (options.showTsu ? 1 : 0) + (options.showTaxSum ? 1 : 0)}>Impostos</th>}\n          <th key=\"net\" colSpan={3}>Salário Líquido</th>\n          {options.showSa && <th key=\"sa\" colSpan={3}>+Sub. Alimentação</th>}\n        </tr>\n        <tr>\n          {options.showTaxes && options.showTsu && [\n            <th key=\"totalYear\">Anual</th>,\n            <th key=\"total12\">/12</th>,\n            <th key=\"total14\">/14</th>\n          ]}\n          <th key=\"grossYear\">Anual</th>\n          <th key=\"gross12\">/12</th>\n          <th key=\"gross14\">/14</th>\n          {options.showTaxes && [\n            options.showTsu && <th key=\"tsu\">TSU</th>,\n            <th key=\"ss\">SS</th>,\n            <th key=\"irs\">IRS</th>,\n            options.showTaxSum && <th key=\"taxSum\">Total</th>\n          ]}\n          <th key=\"netYear\">Anual</th>\n          <th key=\"net12\">/12</th>\n          <th key=\"net14\">/14</th>\n          {options.showSa && [\n            <th key=\"totalNetYear\">Anual</th>,\n            <th key=\"totalNet12\">/12</th>,\n            <th key=\"totalNet14\">/14</th>\n          ]}\n        </tr>\n        </thead>\n        <tbody>\n        <WageLines options={options}/>\n        </tbody>\n      </table>\n  );\n}\n\nclass App extends React.Component<{}, any> {\n\n  constructor(props: {}) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.reset = this.reset.bind(this);\n    this.state = App.loadState();\n  }\n\n  private static readonly DEFAULT_STATE: State = {\n    wage: 705,\n    lines: 30,\n    increment: 5,\n    showSa: true,\n    saVoucher: true,\n    sa: 7.63,\n    saDays: 21,\n    showTaxes: true,\n    showTsu: false,\n    showTaxSum: false,\n    taxesValue: 1,\n    precision: 0,\n    format: 0\n  };\n  public static readonly INCREMENTS = [1, 5, 10, 25, 50, 100, 200, 250, 500, 1000, 10000, 100000];\n  public static readonly FORMATS = [\n    {base: 1, unit: \" €\"},\n    {base: 1, unit: \"\"},\n    {base: 3, unit: \" k€\"},\n    {base: 3, unit: \" k\"},\n    {base: 3, unit: \"k €\"},\n    {base: 3, unit: \"k\"},\n    {base: 3, unit: \"\"}\n  ];\n\n  private static storeState(state: State) {\n    const changes: State = {};\n    for (const i in state) {\n      if (state.hasOwnProperty(i) && state[i] !== App.DEFAULT_STATE[i]) {\n        changes[i] = state[i];\n      }\n    }\n    window.location.hash = buildHash(changes);\n    localStorage.setItem('state', JSON.stringify(changes));\n  }\n\n  private static getStateFromLocalStorage(): State {\n    const savedState = localStorage.getItem('state');\n    if (savedState) {\n      try {\n        return JSON.parse(savedState);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    return {};\n  }\n\n  private static getStateFromHash(): State {\n    const state: State = {};\n    const hash = window.location.hash.replace(/^#/, \"\");\n    if (hash !== \"\") {\n      const hashState = parseHash(hash);\n      for (const i in hashState) {\n        if (hashState.hasOwnProperty(i) && App.DEFAULT_STATE.hasOwnProperty(i)) {\n          switch (typeof (App.DEFAULT_STATE[i])) {\n            case \"number\":\n              state[i] = parseFloat(hashState[i]);\n              break;\n            case \"boolean\":\n              state[i] = hashState[i] === \"true\";\n              break;\n            default:\n              state[i] = hashState[i];\n          }\n        }\n      }\n    }\n    return state;\n  }\n\n  private static loadState() {\n    const state: State = {};\n    // start with default state\n    Object.assign(state, App.DEFAULT_STATE);\n    // get state from hash\n    const hashState = App.getStateFromHash();\n    // use state from local storage if hash is empty\n    const savedState = Object.keys(hashState).length === 0 ?\n        App.getStateFromLocalStorage() : hashState;\n    Object.assign(state, savedState);\n    return state;\n  }\n\n  private handleChange(e: React.ChangeEvent<HTMLInputElement & HTMLSelectElement>) {\n    this.setState((state: any) => {\n      const target = e.target;\n      const name = target.getAttribute(\"name\");\n      if (name != null) {\n        if (typeof (state[name]) === \"boolean\") {\n          state[name] = target.checked;\n        } else if (typeof (state[name]) === \"number\") {\n          state[name] = isNaN(parseFloat(target.value)) ? 0 : parseFloat(target.value);\n          const max = target.getAttribute(\"max\");\n          if (max != null) {\n            state[name] = Math.min(parseFloat(max), state[name]);\n          }\n        } else {\n          state[name] = target.value;\n        }\n      }\n      return state;\n    });\n  }\n\n  private reset(e: React.BaseSyntheticEvent) {\n    this.setState(App.DEFAULT_STATE);\n    e.preventDefault();\n  }\n\n  componentDidUpdate() {\n    App.storeState(this.state);\n  }\n\n  render() {\n    return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <Router\n                basename={\"simulador-salario-liquido\"}>\n              <div id=\"title\">Simulador de Salários Líquidos</div>\n              <div>\n                <Switch>\n                  <Route path=\"/\">\n                    <form>\n                      <div>\n                        <b>Salário bruto /14</b>\n                        <br/>\n                        <label>\n                          Desde:\n                          <input type=\"number\" step=\"100\" min=\"0\"\n                                 name=\"wage\"\n                                 value={this.state.wage}\n                                 onChange={this.handleChange}/>\n                        </label>\n                        <label>\n                          Incrementos:\n                          <Range name=\"increment\"\n                                 value={this.state.increment}\n                                 values={App.INCREMENTS}\n                                 format={(n: number) => format(n) + \" €\"}\n                                 onChange={this.handleChange}/>\n                        </label>\n                        <label>\n                          Linhas:\n                          <input type=\"number\" min=\"1\" max=\"1000\"\n                                 name=\"lines\"\n                                 value={this.state.lines}\n                                 onChange={this.handleChange}/>\n                        </label>\n                      </div>\n                      <div>\n                        <b>Sub. Alimentação</b>\n                        <br/>\n                        <label>\n                          <input type=\"checkbox\"\n                                 name=\"showSa\"\n                                 checked={this.state.showSa}\n                                 onChange={this.handleChange}/>\n                          Incluir\n                        </label>\n                        <label>\n                          <input type=\"checkbox\"\n                                 disabled={!this.state.showSa}\n                                 name=\"saVoucher\"\n                                 checked={this.state.saVoucher}\n                                 onChange={this.handleChange}/>\n                          Cartão/Vales\n                        </label>\n                        <label>\n                          Valor:\n                          <input type=\"number\" min=\"0\" step=\"0.01\"\n                                 disabled={!this.state.showSa}\n                                 name=\"sa\"\n                                 value={this.state.sa}\n                                 onChange={this.handleChange}/>\n                        </label>\n                        <label>\n                          Dias:\n                          <input type=\"number\" min=\"0\" max=\"31\" step=\"1\"\n                                 disabled={!this.state.showSa}\n                                 name=\"saDays\"\n                                 value={this.state.saDays}\n                                 onChange={this.handleChange}/>\n                        </label>\n                      </div>\n                      <div>\n                        <b>Impostos</b>\n                        <br/>\n                        <label>\n                          <input type=\"checkbox\"\n                                 name=\"showTaxes\"\n                                 checked={this.state.showTaxes}\n                                 onChange={this.handleChange}/>\n                          Mostrar\n                        </label>\n                        <label>\n                          <input type=\"checkbox\"\n                                 disabled={!this.state.showTaxes}\n                                 name=\"showTsu\"\n                                 checked={this.state.showTsu}\n                                 onChange={this.handleChange}/>\n                          Incluir TSU\n                        </label>\n                        <label>\n                          <input type=\"checkbox\"\n                                 disabled={!this.state.showTaxes}\n                                 name=\"showTaxSum\"\n                                 checked={this.state.showTaxSum}\n                                 onChange={this.handleChange}/>\n                          Mostrar Total\n                        </label>\n                        <label>\n                          Valor:\n                          <select\n                              disabled={!this.state.showTaxes}\n                              name=\"taxesValue\"\n                              value={this.state.taxesValue}\n                              onChange={this.handleChange}>\n                            <option value=\"1\">Anual</option>\n                            <option value=\"12\">/12</option>\n                            <option value=\"14\">/14</option>\n                          </select>\n                        </label>\n                      </div>\n                      <div>\n                        <b>Visualização</b>\n                        <br/>\n                        <label>\n                          Formato:\n                          <select\n                              name=\"format\"\n                              value={this.state.format}\n                              onChange={this.handleChange}>\n                            {App.FORMATS.map((f, i) =>\n                                <option value={i}>{(f.base === 1 ? \"1500\" : \"1,5\") + f.unit}</option>\n                            )}\n                          </select>\n                        </label>\n                        <label>\n                          Precisão:\n                          <select\n                              name=\"precision\"\n                              value={this.state.precision}\n                              onChange={this.handleChange}>\n                            {[-3, -2, -1, 0, 2].map(n =>\n                                <option value={n}>{toFixed(Math.pow(10, -n), n)} €</option>)}\n                          </select>\n                        </label>\n                        <input id=\"reset\" type=\"button\" onClick={this.reset} value=\"Reiniciar\"/>\n                      </div>\n                    </form>\n                    <WageTable options={this.state}/>\n                  </Route>\n                  <Route path=\"/about\">\n                    <h1>Acerca</h1>\n                  </Route>\n                </Switch>\n              </div>\n              <div id=\"footer\">\n                <Link to=\"/\">Início</Link>\n                &nbsp;-&nbsp;\n                <Link to=\"/about\">Acerca</Link>\n                &nbsp;-&nbsp;\n                <a href=\"https://github.com/dinismadeira/simulador-salario-liquido\" target=\"_blank\"\n                   rel=\"noreferrer\">GitHub</a>\n              </div>\n            </Router>\n          </header>\n        </div>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}