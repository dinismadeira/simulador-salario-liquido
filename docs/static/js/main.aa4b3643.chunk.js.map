{"version":3,"sources":["Irs.tsx","Range.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Irs","gross","deductible","compute","taxable","Math","max","level","findLevel","irs","calcForLevel","maxIrs","SUBSISTENCE_LEVEL","min","LEVELS","limit","Error","previous","tax","computed","Infinity","Range","props","className","type","values","length","name","value","onChange","format","n","precision","toFixed","replace","d","round","pow","WageLines","options","wageLines","wage","increment","App","INCREMENTS","lines","i","push","WageLine","floor","gross14Months","gross12Months","saDaysPerYear","saDays","sa","showSa","deductibleSa","saVoucher","taxableSa","tsu","ss","calc","taxSum","showTsu","total","total14Months","total12Months","net","net14Months","net12Months","totalNet","totalNet14Months","totalNet12Months","wageValue","UNITS","wageCell","key","title","showTaxes","taxesValue","showTaxSum","WageTable","colSpan","handleChange","bind","reset","state","loadState","e","this","setState","target","getAttribute","checked","isNaN","parseFloat","DEFAULT_STATE","preventDefault","storeState","path","step","disabled","id","onClick","to","changes","hasOwnProperty","window","location","hash","Object","keys","map","encodeURIComponent","join","buildHash","localStorage","setItem","JSON","stringify","savedState","getItem","parse","console","error","hashState","components","split","decodeURIComponent","parseHash","assign","getStateFromHash","getStateFromLocalStorage","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aa4b3643.chunk.js","sourcesContent":["export default class Irs {\r\n\r\n  static readonly SUBSISTENCE_LEVEL = 9870;\r\n\r\n  static readonly LEVELS: Level[] = [\r\n    {tax: .145, limit: 7112},\r\n    {tax: .23, limit: 10732},\r\n    {tax: .285, limit: 20322},\r\n    {tax: .35, limit: 25075},\r\n    {tax: .37, limit: 36967},\r\n    {tax: .45, limit: 80882},\r\n    {tax: .48, limit: Infinity}\r\n  ];\r\n\r\n  private static computed = false;\r\n\r\n  // Compute IRS given collectible gross income and specific deduction\r\n  static calc(gross: number, deductible = 0) {\r\n    Irs.compute();\r\n    const taxable = Math.max(0, gross - deductible);\r\n    const level = Irs.findLevel(taxable);\r\n    const irs = Irs.calcForLevel(taxable, level);\r\n    const maxIrs = Math.max(0, gross - Irs.SUBSISTENCE_LEVEL);\r\n    return Math.min(irs, maxIrs);\r\n  }\r\n\r\n  private static findLevel(taxable: number) {\r\n    for (const level of Irs.LEVELS) {\r\n      if (taxable < level.limit) {\r\n        return level;\r\n      }\r\n    }\r\n    throw new Error(\"Could not find IRS level for: \" + taxable);\r\n  }\r\n\r\n  private static calcForLevel(taxable: number, level: Level) {\r\n    const previous = level.previous;\r\n    return previous == null ? taxable * level.tax :\r\n        (taxable - previous.limit) * level.tax + (previous.max || 0);\r\n  }\r\n\r\n  // precompute max irs for each level\r\n  private static compute() {\r\n    if (!Irs.computed) {\r\n      Irs.computed = true;\r\n      let previous = null;\r\n      for (const level of Irs.LEVELS) {\r\n        level.previous = previous;\r\n        level.max = Irs.calcForLevel(level.limit, level);\r\n        previous = level;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\ntype Level = {\r\n  tax: number;\r\n  limit: number;\r\n  max?: number;\r\n  previous?: Level | null;\r\n}\r\n","import './Range.css';\r\n\r\ntype RangeProps = {\r\n  values: any[];\r\n  name: string;\r\n  value: number;\r\n  onChange: any;\r\n  format: { (n: any): string };\r\n}\r\n\r\nconst Range = (props: RangeProps) =>\r\n    <span className=\"range\">\r\n      <input type=\"range\"\r\n             min=\"0\"\r\n             max={props.values.length - 1}\r\n             name={props.name}\r\n             value={props.value}\r\n             onChange={props.onChange}/>\r\n      <span>{props.format(props.values[props.value])}</span>\r\n    </span>;\r\n\r\nexport default Range;\r\n","import React from 'react';\nimport {BrowserRouter as Router, Link, Route, Switch} from 'react-router-dom';\nimport './App.css';\nimport Irs from './Irs';\nimport Range from './Range';\n\n// Convert number to portuguese number format\nfunction format(n: number, precision = 0) {\n  return toFixed(n, precision)\n  //.replace(/(?:\\.(\\d+))?e\\+(\\d+)$/, (m, m1, m2) => m1 + \"000\".repeat(m2))\n  .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \")\n  .replace(\".\", \",\")\n  .replace(/^(\\d) (\\d{3})\\b/, \"$1$2\");\n}\n\n// Convert number to string with given precision\nfunction toFixed(n: number, precision: number) {\n  return precision < 0 ? round(n, precision).toFixed(0) : n.toFixed(precision);\n}\n\n// Round number with given positive or negative precision\nfunction round(n: number, d: number) {\n  return Math.round(n * Math.pow(10, d)) / Math.pow(10, d);\n}\n\nfunction buildHash(state: State) {\n  return Object.keys(state).map(i => encodeURIComponent(i) + \"=\" + encodeURIComponent(state[i])).join(\"&\")\n}\n\nfunction parseHash(hash: string) {\n  const map: { [i: string]: string } = {};\n  const components = hash.split(\"&\");\n  for (const component of components) {\n    const [key, value] = component.split(\"=\").map(decodeURIComponent);\n    map[key] = value;\n  }\n  return map;\n}\n\ninterface State {\n  [i: string]: string | number | boolean;\n}\n\nfunction WageLines({options}: any) {\n  const wageLines: JSX.Element[] = [];\n  const wage = options.wage;\n  const increment = App.INCREMENTS[options.increment];\n  const lines = options.lines;\n  for (let i = 0, value = wage; i < lines; i++) {\n    wageLines.push(<WageLine key={value} value={value} options={options}/>);\n    value = Math.floor((value + increment) / increment) * increment;\n  }\n  return <>{wageLines}</>;\n}\n\nfunction WageLine({options, value}: any) {\n  const precision = options.precision;\n\n  // calculate gross wage\n  const gross14Months = value;\n  const gross = gross14Months * 14;\n  const gross12Months = gross / 12;\n\n  // calculate food allowance\n  const saDaysPerYear = options.saDays * 11;\n  const saValue = options.showSa ? options.sa : 0;\n  const sa = saValue * saDaysPerYear;\n\n  const deductibleSa = (options.saVoucher ? 7.63 : 4.77) * saDaysPerYear;\n  const taxableSa = Math.max(0, sa - deductibleSa);\n\n  // calculate taxes\n  const tsu = gross * 0.2375;\n  const ss = gross * 0.11;\n  const irs = Irs.calc(gross + taxableSa, Math.max(ss, 4104));\n  const taxSum = (options.showTsu ? tsu : 0) + ss + irs;\n\n  // calculate total wage (gross wage + TSU + food allowance\n  const total = gross + tsu + sa;\n  const total14Months = total / 14;\n  const total12Months = total / 12;\n\n  // calculate net wage\n  const net = gross - ss - irs;\n  const net14Months = net / 14;\n  const net12Months = net / 12;\n\n  // calculate net wage plus food allowance\n  const totalNet = net + sa;\n  const totalNet14Months = totalNet / 14;\n  const totalNet12Months = totalNet / 12;\n\n  const wageValue = (n: number) => {\n    const value = options.format < 2 ? format(n, precision) : format(n / 1000, precision + 3);\n    const unit = App.UNITS[options.format];\n    return value + unit;\n  };\n\n  const wageCell = (key: string, n: number, className = \"\") =>\n      <td className={\"WageCell \" + className} key={key}\n          title={format(n, 2) + \" €\"}>{wageValue(n)}</td>;\n\n  return (\n      <tr>{[\n        options.showTaxes && options.showTsu && [\n          wageCell(\"total\", total),\n          wageCell(\"total12Months\", total12Months),\n          wageCell(\"total14Months\", total14Months, \"months14\")\n        ],\n        wageCell(\"gross\", gross),\n        wageCell(\"gross12Months\", gross12Months),\n        wageCell(\"gross14Months\", gross14Months, \"months14\"),\n        options.showTaxes && [\n          options.showTsu && wageCell(\"tsu\", tsu / options.taxesValue),\n          wageCell(\"ss\", ss / options.taxesValue),\n          wageCell(\"irs\", irs / options.taxesValue),\n          options.showTaxSum && wageCell(\"taxSum\", taxSum / options.taxesValue)\n        ],\n        wageCell(\"net\", net),\n        wageCell(\"net12Months\", net12Months),\n        wageCell(\"net14Months\", net14Months, \"months14\"),\n        (options.showSa && [\n          wageCell(\"totalNet\", totalNet),\n          wageCell(\"totalNet12Months\", totalNet12Months),\n          wageCell(\"totalNet14Months\", totalNet14Months, \"months14\")\n        ])\n      ]}\n      </tr>\n  );\n}\n\nfunction WageTable({options}: any) {\n  return (\n      <table>\n        <thead>\n        <tr>\n          {options.showTaxes && options.showTsu &&\n          <th key=\"total\" colSpan={3} title={\"Salário Bruto + TSU + SA\"}>Salário Total</th>}\n          <th key=\"gross\" colSpan={3}>Salário Bruto</th>\n          {options.showTaxes &&\n          <th key=\"taxes\"\n              colSpan={2 + (options.showTsu ? 1 : 0) + (options.showTaxSum ? 1 : 0)}>Impostos</th>}\n          <th key=\"net\" colSpan={3}>Salário Líquido</th>\n          {options.showSa && <th key=\"sa\" colSpan={3}>+Sub. Alimentação</th>}\n        </tr>\n        <tr>\n          {options.showTaxes && options.showTsu && [\n            <th key=\"totalYear\">Anual</th>,\n            <th key=\"total12\">/12</th>,\n            <th key=\"total14\">/14</th>\n          ]}\n          <th key=\"grossYear\">Anual</th>\n          <th key=\"gross12\">/12</th>\n          <th key=\"gross14\">/14</th>\n          {options.showTaxes && [\n            options.showTsu && <th key=\"tsu\">TSU</th>,\n            <th key=\"ss\">SS</th>,\n            <th key=\"irs\">IRS</th>,\n            options.showTaxSum && <th key=\"taxSum\">Total</th>\n          ]}\n          <th key=\"netYear\">Anual</th>\n          <th key=\"net12\">/12</th>\n          <th key=\"net14\">/14</th>\n          {options.showSa && [\n            <th key=\"totalNetYear\">Anual</th>,\n            <th key=\"totalNet12\">/12</th>,\n            <th key=\"totalNet14\">/14</th>\n          ]}\n        </tr>\n        </thead>\n        <tbody>\n        <WageLines options={options}/>\n        </tbody>\n      </table>\n  );\n}\n\nclass App extends React.Component<{}, any> {\n\n  constructor(props: {}) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.reset = this.reset.bind(this);\n    this.state = App.loadState();\n  }\n\n  private static readonly DEFAULT_STATE: State = {\n    wage: 705,\n    lines: 30,\n    increment: 5,\n    showSa: true,\n    saVoucher: true,\n    sa: 7.63,\n    saDays: 21,\n    showTaxes: true,\n    showTsu: false,\n    showTaxSum: false,\n    taxesValue: 1,\n    precision: 0,\n    format: 0\n  };\n  public static readonly INCREMENTS = [1, 5, 10, 25, 50, 100, 200, 250, 500, 1000, 10000, 100000];\n  public static readonly UNITS = [\" €\", \"\", \" k€\", \" k\", \"k €\", \"k\", \"\"];\n\n  private static storeState(state: State) {\n    const changes: State = {};\n    for (const i in state) {\n      if (state.hasOwnProperty(i) && state[i] !== App.DEFAULT_STATE[i]) {\n        changes[i] = state[i];\n      }\n    }\n    window.location.hash = buildHash(changes);\n    localStorage.setItem('state', JSON.stringify(changes));\n  }\n\n  private static getStateFromLocalStorage(): State {\n    const savedState = localStorage.getItem('state');\n    if (savedState) {\n      try {\n        return JSON.parse(savedState);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    return {};\n  }\n\n  private static getStateFromHash(): State {\n    const state: State = {};\n    const hash = window.location.hash.replace(/^#/, \"\");\n    if (hash !== \"\") {\n      const hashState = parseHash(hash);\n      for (const i in hashState) {\n        if (hashState.hasOwnProperty(i) && App.DEFAULT_STATE.hasOwnProperty(i)) {\n          switch (typeof (App.DEFAULT_STATE[i])) {\n            case \"number\":\n              state[i] = parseFloat(hashState[i]);\n              break;\n            case \"boolean\":\n              state[i] = hashState[i] === \"true\";\n              break;\n            default:\n              state[i] = hashState[i];\n          }\n        }\n      }\n    }\n    return state;\n  }\n\n  private static loadState() {\n    const state: State = {};\n    // start with default state\n    Object.assign(state, App.DEFAULT_STATE);\n    // get state from hash\n    const hashState = App.getStateFromHash();\n    // use state from local storage if hash is empty\n    const savedState = Object.keys(hashState).length === 0 ?\n        App.getStateFromLocalStorage() : hashState;\n    Object.assign(state, savedState);\n    return state;\n  }\n\n  private handleChange(e: React.ChangeEvent<HTMLInputElement & HTMLSelectElement>) {\n    this.setState((state: any) => {\n      const target = e.target;\n      const name = target.getAttribute(\"name\");\n      if (name != null) {\n        if (typeof (state[name]) === \"boolean\") {\n          state[name] = target.checked;\n        } else if (typeof (state[name]) === \"number\") {\n          state[name] = isNaN(parseFloat(target.value)) ? 0 : parseFloat(target.value);\n          const max = target.getAttribute(\"max\");\n          if (max != null) {\n            state[name] = Math.min(parseFloat(max), state[name]);\n          }\n        } else {\n          state[name] = target.value;\n        }\n      }\n      return state;\n    });\n  }\n\n  private reset(e: React.BaseSyntheticEvent) {\n    this.setState(App.DEFAULT_STATE);\n    e.preventDefault();\n  }\n\n  componentDidUpdate() {\n    App.storeState(this.state);\n  }\n\n  render() {\n    return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <Router>\n              <div>\n                <Switch>\n                  <Route path=\"/\">\n                    <h1>Simulador de Salários Líquidos</h1>\n                    <form>\n                      <div>\n                        <b>Salário bruto /14</b>\n                        <br/>\n                        <label>\n                          Desde:\n                          <input type=\"number\" step=\"100\" min=\"0\"\n                                 name=\"wage\"\n                                 value={this.state.wage}\n                                 onChange={this.handleChange}/>\n                        </label>\n                        <label>\n                          Incrementos:\n                          <Range name=\"increment\"\n                                 value={this.state.increment}\n                                 values={App.INCREMENTS}\n                                 format={(n: number) => format(n) + \" €\"}\n                                 onChange={this.handleChange}/>\n                        </label>\n                        <label>\n                          Linhas:\n                          <input type=\"number\" min=\"1\" max=\"1000\"\n                                 name=\"lines\"\n                                 value={this.state.lines}\n                                 onChange={this.handleChange}/>\n                        </label>\n                      </div>\n                      <div>\n                        <b>Sub. Alimentação</b>\n                        <br/>\n                        <label>\n                          <input type=\"checkbox\"\n                                 name=\"showSa\"\n                                 checked={this.state.showSa}\n                                 onChange={this.handleChange}/>\n                          Incluir\n                        </label>\n                        <label>\n                          <input type=\"checkbox\"\n                                 disabled={!this.state.showSa}\n                                 name=\"saVoucher\"\n                                 checked={this.state.saVoucher}\n                                 onChange={this.handleChange}/>\n                          Cartão/Vales\n                        </label>\n                        <label>\n                          Valor:\n                          <input type=\"number\" min=\"0\" step=\"0.01\"\n                                 disabled={!this.state.showSa}\n                                 name=\"sa\"\n                                 value={this.state.sa}\n                                 onChange={this.handleChange}/>\n                        </label>\n                        <label>\n                          Dias:\n                          <input type=\"number\" min=\"0\" max=\"31\" step=\"1\"\n                                 disabled={!this.state.showSa}\n                                 name=\"saDays\"\n                                 value={this.state.saDays}\n                                 onChange={this.handleChange}/>\n                        </label>\n                      </div>\n                      <div>\n                        <b>Impostos</b>\n                        <br/>\n                        <label>\n                          <input type=\"checkbox\"\n                                 name=\"showTaxes\"\n                                 checked={this.state.showTaxes}\n                                 onChange={this.handleChange}/>\n                          Mostrar\n                        </label>\n                        <label>\n                          <input type=\"checkbox\"\n                                 disabled={!this.state.showTaxes}\n                                 name=\"showTsu\"\n                                 checked={this.state.showTsu}\n                                 onChange={this.handleChange}/>\n                          Incluir TSU\n                        </label>\n                        <label>\n                          <input type=\"checkbox\"\n                                 disabled={!this.state.showTaxes}\n                                 name=\"showTaxSum\"\n                                 checked={this.state.showTaxSum}\n                                 onChange={this.handleChange}/>\n                          Mostrar Total\n                        </label>\n                        <label>\n                          Valor:\n                          <select\n                              disabled={!this.state.showTaxes}\n                              name=\"taxesValue\"\n                              value={this.state.taxesValue}\n                              onChange={this.handleChange}>\n                            <option value=\"1\">Anual</option>\n                            <option value=\"12\">/12</option>\n                            <option value=\"14\">/14</option>\n                          </select>\n                        </label>\n                      </div>\n                      <div>\n                        <b>Visualização</b>\n                        <br/>\n                        <label>\n                          Formato:\n                          <select\n                              name=\"format\"\n                              value={this.state.format}\n                              onChange={this.handleChange}>\n                            <option value=\"0\">1500 €</option>\n                            <option value=\"1\">1500</option>\n                            <option value=\"2\">1,5 k€</option>\n                            <option value=\"3\">1,5 k</option>\n                            <option value=\"4\">1,5k €</option>\n                            <option value=\"5\">1,5k</option>\n                            <option value=\"6\">1,5</option>\n                          </select>\n                        </label>\n                        <label>\n                          Precisão:\n                          <select\n                              name=\"precision\"\n                              value={this.state.precision}\n                              onChange={this.handleChange}>\n                            <option value=\"-3\">1000 €</option>\n                            <option value=\"-2\">100 €</option>\n                            <option value=\"-1\">10 €</option>\n                            <option value=\"0\">1 €</option>\n                            <option value=\"2\">0.01 €</option>\n                          </select>\n                        </label>\n                        <input id=\"reset\" type=\"button\" onClick={this.reset} value=\"Reiniciar\"/>\n                      </div>\n                    </form>\n                    <WageTable options={this.state}/>\n                  </Route>\n                  <Route path=\"/about\">\n                    <h1>Acerca</h1>\n                  </Route>\n                </Switch>\n                <Link to=\"/\">Simulador de Salários Líquidos</Link>\n                &nbsp;-&nbsp;\n                <Link to=\"/about\">Acerca</Link>\n              </div>\n            </Router>\n          </header>\n        </div>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}